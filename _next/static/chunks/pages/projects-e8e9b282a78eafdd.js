(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{7670:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return t(5077)}])},5696:function(e,n,t){"use strict";var i=t(5893);t(7294);var r=t(1664),s=t.n(r);n.Z=()=>(0,i.jsx)("footer",{className:"footer",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("p",{children:(0,i.jsx)(s(),{href:"/",children:"\xa9 2024 Andrew Epstein"})}),(0,i.jsxs)("ul",{className:"social-links",children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://www.linkedin.com/in/andrew-epstein/",target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://github.com/Eppie",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})})]})]})})},7822:function(e,n,t){"use strict";var i=t(5893);t(7294);var r=t(1664),s=t.n(r);n.Z=()=>(0,i.jsx)("header",{className:"header",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h1",{className:"title",children:(0,i.jsx)(s(),{href:"/",children:"Andrew Epstein"})}),(0,i.jsx)("nav",{className:"nav",children:(0,i.jsxs)("ul",{className:"nav-list",children:[(0,i.jsx)("li",{className:"nav-item",children:(0,i.jsx)(s(),{href:"/about",children:"About"})}),(0,i.jsx)("li",{className:"nav-item",children:(0,i.jsx)(s(),{href:"/projects",children:"Projects"})})]})})]})})},5077:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p}});var i=t(5893),r=t(7294),s=t(7822),a=t(5696),l=t(7445),c=t(4432);let o=e=>{try{return function(e){if(e.length>4)throw Error("Input string must be 4 characters or less.");let n=e=>e.padStart(8,"0"),t="";for(let i=0;i<e.length;i++)t+=n(e.charCodeAt(i).toString(2));return 8*e.length<32&&(t=t.padEnd(32,"0")),t}(e)}catch(e){return e.message}},h=e=>{let{binaryDigits:n,colorMap:t}=e,[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[o,h]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let e=n.split("");c(e);let t=[];e.forEach((e,n)=>{s[n]!==e&&t.push(n)}),h(t),a(e);let i=setTimeout(()=>h([]),1e3);return()=>clearTimeout(i)},[n]),(0,i.jsx)("div",{style:{display:"flex",alignItems:"center"},children:l.map((e,n)=>(0,i.jsxs)(r.Fragment,{children:[n%8==0&&0!==n&&(0,i.jsx)("span",{style:{padding:"0 10px"},children:"|"}),(0,i.jsx)("div",{className:"digit-container",children:(0,i.jsx)("span",{className:"digit ".concat(o.includes(n)?"flap":""),style:{backgroundColor:t[n]?"#".concat(t[n]):"transparent"},children:e})})]},n))})};function d(e,n){return n>=e.length?"0".repeat(e.length):"0".repeat(n)+e.slice(0,e.length-n)}function u(e,n){if(e.length!==n.length)throw Error("Both strings must be of the same length");let t="";for(let i=0;i<e.length;i++)"1"===e[i]||"1"===n[i]?t+="1":t+="0";return t}var x=()=>{let[e,n]=(0,r.useState)("ACTG"),t="00000110000001100000011000000110",s="ADD8E6",a="90EE90",x="F08080",p="FFAAE0",g=function(e,n){if(e.length!==n.length)throw Error("Both strings must be of the same length");let t="";for(let i=0;i<e.length;i++)"1"===e[i]&&"1"===n[i]?t+="1":t+="0";return t}(o(e),t),j=d(g,1),f=u(d(j,14),j),m=u(d(f,4),f);return(0,i.jsxs)("div",{style:{padding:"20px"},children:[(0,i.jsx)("h1",{children:"Fast DNA Complement Function"}),(0,i.jsx)("p",{children:'In the course of manipulating genomic data, it is often desirable to compute the "complement" of a given sequence.'}),(0,i.jsx)("h3",{children:"Naive approach:"}),(0,i.jsx)(l.Z,{language:"cpp",style:c.Z,children:"void dnaComplement(char *inputDNA, int length) {\n        for (int i = 0; i < length; ++i) {\n            switch (inputDNA[i]) {\n            case 'A':\n                inputDNA[i] = 'T';\n                break;\n            case 'T':\n                inputDNA[i] = 'A';\n                break;\n            case 'C':\n                inputDNA[i] = 'G';\n                break;\n            case 'G':\n                inputDNA[i] = 'C';\n                break;\n            default:\n                break;\n            }\n        }\n    }"}),(0,i.jsx)("h3",{children:"This approach:"}),(0,i.jsx)(l.Z,{language:"cpp",style:c.Z,children:'static const char *arr[256] = {\n        "TTTT", /* omitted for brevity */ "CCCC"};\n        \n    uint8_t toIndex(uint32_t input) {\n        const uint32_t MASK = 0x06060606;\n        auto x1 = input & MASK;\n        auto x2 = x1 >> 1;\n        auto x3 = x2 | (x2 >> 14);\n        auto x4 = x3 | (x3 >> 4);\n        return x4;\n    }\n    \n    __attribute__((noinline)) void dnaComplement(char *inputDNA, int length) {\n        for (int i = 0; i < length; i += 4) {\n            uint32_t input = *(uint32_t *)(inputDNA + i);\n            uint8_t index = toIndex(input);\n            const char *complement = arr[index];\n            *(uint32_t *)(inputDNA + i) = *(uint32_t *)complement;\n        }\n    }'}),(0,i.jsx)("p",{children:"And here's how the `toIndex` function works:"}),(0,i.jsx)("input",{type:"text",value:e,onChange:e=>{let t=e.target.value.toUpperCase();/^[ACTG]*$/.test(t)&&t.length<=4&&n(t)},style:{padding:"10px",fontSize:"16px",width:"100%",boxSizing:"border-box"},placeholder:"Enter text here"}),(0,i.jsxs)("div",{style:{marginTop:"20px",fontSize:"18px",border:"1px solid black",padding:"10px",display:"flex",flexWrap:"wrap"},children:[(0,i.jsxs)("div",{children:["Input:",(0,i.jsx)(h,{binaryDigits:o(e),colorMap:{5:s,6:s,13:a,14:a,21:x,22:x,29:p,30:p}})]}),(0,i.jsxs)("div",{children:["Mask:",(0,i.jsx)(h,{binaryDigits:t,colorMap:{5:s,6:s,13:a,14:a,21:x,22:x,29:p,30:p}})]}),(0,i.jsxs)("div",{children:["x1 = input & mask:",(0,i.jsx)(h,{binaryDigits:g,colorMap:{5:s,6:s,13:a,14:a,21:x,22:x,29:p,30:p}})]}),(0,i.jsxs)("div",{children:["x2 = x1 ",">>"," 1:",(0,i.jsx)(h,{binaryDigits:j,colorMap:{6:s,7:s,14:a,15:a,22:x,23:x,30:p,31:p}})]}),(0,i.jsxs)("div",{children:["x3 = x2 | (x2 ",">>"," 14):",(0,i.jsx)(h,{binaryDigits:f,colorMap:{20:s,21:s,22:a,23:a,28:x,29:x,30:p,31:p}})]}),(0,i.jsxs)("div",{children:["x4 = x3 | (x3 ",">>"," 4):",(0,i.jsx)(h,{binaryDigits:m,colorMap:{24:s,25:s,26:a,27:a,28:x,29:x,30:p,31:p}})]})]})]})},p=()=>(0,i.jsxs)("div",{children:[(0,i.jsx)(s.Z,{}),(0,i.jsx)(x,{}),(0,i.jsx)(a.Z,{})]})}},function(e){e.O(0,[664,73,888,774,179],function(){return e(e.s=7670)}),_N_E=e.O()}]);